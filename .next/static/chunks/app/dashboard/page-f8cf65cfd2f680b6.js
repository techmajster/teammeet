(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6204:function(e,s,r){Promise.resolve().then(r.bind(r,7148)),Promise.resolve().then(r.bind(r,3005)),Promise.resolve().then(r.bind(r,3001)),Promise.resolve().then(r.bind(r,2988))},3005:function(e,s,r){"use strict";r.d(s,{default:function(){return u}});var t=r(7573),a=r(7653),n=r(1695),i=r(6273),l=r(8521),c=r(3769),o=r(9696);let d=(0,r(2389).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=r(5721),x=r(1691),h=r(7787);function u(){let[e,s]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!1),[p,j]=(0,a.useState)({name:"",description:""}),[f,N]=(0,a.useState)({}),g=(0,n.useRouter)(),y=()=>{let e={};return p.name.trim()?p.name.trim().length<3?e.name="Room name must be at least 3 characters":p.name.length>100&&(e.name="Room name must be less than 100 characters"):e.name="Room name is required",p.description&&p.description.length>500&&(e.description="Description must be less than 500 characters"),N(e),0===Object.keys(e).length},v=async e=>{if(e.preventDefault(),y()){u(!0);try{let{data:e,error:r}=await x.G.createRoom({name:p.name.trim(),description:p.description.trim()||void 0});if(r){console.error("Error creating room:",r),h.A.error("Failed to create room. Please try again.");return}e&&(h.A.success('Room "'.concat(e.name,'" created successfully!')),s(!1),j({name:"",description:""}),N({}),g.refresh())}catch(e){console.error("Error creating room:",e),h.A.error("Failed to create room. Please try again.")}finally{u(!1)}}},b=(e,s)=>{j(r=>({...r,[e]:s})),f[e]&&N(s=>({...s,[e]:""}))};return(0,t.jsxs)(l.Vq,{open:e,onOpenChange:s,children:[(0,t.jsx)(l.hg,{asChild:!0,children:(0,t.jsxs)(i.z,{children:[(0,t.jsx)(d,{className:"mr-2 h-4 w-4"}),"Create Room"]})}),(0,t.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(l.fK,{children:[(0,t.jsx)(l.$N,{children:"Create New Room"}),(0,t.jsx)(l.Be,{children:"Create a new video conference room. You can invite team members after creating it."})]}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"room-name",children:"Room Name"}),(0,t.jsx)(c.I,{id:"room-name",placeholder:"e.g., Team Daily Standup",value:p.name,onChange:e=>b("name",e.target.value),className:f.name?"border-red-500":"",disabled:r}),f.name&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:f.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"room-description",children:"Description (Optional)"}),(0,t.jsx)(c.I,{id:"room-description",placeholder:"Brief description of the room's purpose",value:p.description,onChange:e=>b("description",e.target.value),className:f.description?"border-red-500":"",disabled:r}),f.description&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:f.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[p.description.length,"/500 characters"]})]}),(0,t.jsxs)(l.cN,{children:[(0,t.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:r,children:"Cancel"}),(0,t.jsx)(i.z,{type:"submit",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Room"})]})]})]})]})}},3001:function(e,s,r){"use strict";r.d(s,{default:function(){return o}});var t=r(7573),a=r(6798),n=r(1690),i=r(3989),l=r(3727),c=r(3005);function o(){return(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)(a.Zb,{className:"max-w-md mx-auto",children:(0,t.jsxs)(a.aY,{className:"pt-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"rounded-full bg-muted p-3",children:(0,t.jsx)(n.Z,{className:"h-8 w-8 text-muted-foreground"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No rooms yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Get started by creating your first video conference room. Invite your team and start collaborating instantly."}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{children:"Invite team members"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{children:"Schedule meetings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-purple-600"}),(0,t.jsx)("span",{children:"Start instant calls"})]})]}),(0,t.jsx)(c.default,{})]})})})}},2988:function(e,s,r){"use strict";r.d(s,{default:function(){return k}});var t=r(7573),a=r(7653),n=r(1695),i=r(6798),l=r(6273),c=r(9590),o=r(2295),d=r(2041),m=r(1465),x=r(1690),h=r(1856),u=r(2389);let p=(0,u.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=r(997),f=r(3989),N=r(3727);let g=(0,u.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var y=r(5721),v=r(6340),b=r.n(v),w=r(1691),C=r(7787);function k(e){var s;let{room:r}=e,[u,v]=(0,a.useState)(!1),[k,R]=(0,a.useState)(!1),Z=(0,n.useRouter)(),S=()=>{C.A.info("Room joining functionality coming soon!")},A=async()=>{try{let e="".concat(window.location.origin,"/rooms/").concat(r.slug);await navigator.clipboard.writeText(e),C.A.success("Room link copied to clipboard!")}catch(e){C.A.error("Failed to copy link")}},D=async()=>{R(!0);try{let{error:e}=await w.G.deleteRoom(r.id);if(e){console.error("Error deleting room:",e),C.A.error("Failed to delete room. Please try again.");return}C.A.success('Room "'.concat(r.name,'" deleted successfully')),v(!1),Z.refresh()}catch(e){console.error("Error deleting room:",e),C.A.error("Failed to delete room. Please try again.")}finally{R(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Zb,{className:"group hover:shadow-md transition-shadow",children:[(0,t.jsx)(i.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(i.ll,{className:"text-lg truncate",children:r.name}),(0,t.jsx)(i.SZ,{className:"mt-1 line-clamp-2",children:r.description||"No description provided"})]}),(0,t.jsxs)(c.h_,{children:[(0,t.jsx)(c.$F,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,t.jsxs)(c.AW,{align:"end",children:[(0,t.jsxs)(c.Xi,{onClick:S,children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Join Room"]}),(0,t.jsxs)(c.Xi,{onClick:A,children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Copy Link"]}),(0,t.jsx)(c.Xi,{asChild:!0,children:(0,t.jsxs)(b(),{href:"/rooms/".concat(r.slug,"/settings"),children:[(0,t.jsx)(p,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,t.jsx)(c.VD,{}),(0,t.jsxs)(c.Xi,{onClick:()=>v(!0),className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),(0,t.jsxs)(i.aY,{className:"pt-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:0===(s=r.participant_count)?"No participants":1===s?"1 participant":"".concat(s," participants")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:new Date(r.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(d.C,{variant:"secondary",className:"text-xs",children:r.slug}),(0,t.jsx)(d.C,{variant:"outline",className:"text-xs",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.z,{onClick:S,className:"flex-1",size:"sm",children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Join Room"]}),(0,t.jsx)(l.z,{variant:"outline",size:"sm",onClick:A,children:(0,t.jsx)(g,{className:"h-4 w-4"})})]})]})]}),(0,t.jsx)(o.aR,{open:u,onOpenChange:v,children:(0,t.jsxs)(o._T,{children:[(0,t.jsxs)(o.fY,{children:[(0,t.jsx)(o.f$,{children:"Delete Room"}),(0,t.jsxs)(o.yT,{children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone. All participants will be removed and any room data will be permanently lost.']})]}),(0,t.jsxs)(o.xo,{children:[(0,t.jsx)(o.le,{disabled:k,children:"Cancel"}),(0,t.jsx)(o.OL,{onClick:D,disabled:k,className:"bg-red-600 hover:bg-red-700",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Room"})]})]})})]})}},6798:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var t=r(7573),a=r(7653),n=r(9369);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},1690:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(2389).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}},function(e){e.O(0,[458,773,787,540,672,293,528,744],function(){return e(e.s=6204)}),_N_E=e.O()}]);