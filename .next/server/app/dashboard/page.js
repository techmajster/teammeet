(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8448:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8931:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(4538),t(6315),t(5291);var r=t(9132),a=t(5459),n=t(1584),i=t.n(n),l=t(7131),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4538)),"/Users/simon/Desktop/video-conf-app/apps/web/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6315)),"/Users/simon/Desktop/video-conf-app/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/simon/Desktop/video-conf-app/apps/web/app/dashboard/page.tsx"],m="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2753:(e,s,t)=>{Promise.resolve().then(t.bind(t,8026)),Promise.resolve().then(t.bind(t,309)),Promise.resolve().then(t.bind(t,5703)),Promise.resolve().then(t.bind(t,7960))},309:(e,s,t)=>{"use strict";t.d(s,{default:()=>p});var r=t(870),a=t(8250),n=t(2400),i=t(2378),l=t(3516),o=t(310),c=t(9415);let d=(0,t(8917).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=t(8814),x=t(769),h=t(2978);function p(){let[e,s]=(0,a.useState)(!1),[t,p]=(0,a.useState)(!1),[u,j]=(0,a.useState)({name:"",description:""}),[f,g]=(0,a.useState)({}),N=(0,n.useRouter)(),v=()=>{let e={};return u.name.trim()?u.name.trim().length<3?e.name="Room name must be at least 3 characters":u.name.length>100&&(e.name="Room name must be less than 100 characters"):e.name="Room name is required",u.description&&u.description.length>500&&(e.description="Description must be less than 500 characters"),g(e),0===Object.keys(e).length},b=async e=>{if(e.preventDefault(),v()){p(!0);try{let{data:e,error:t}=await x.G.createRoom({name:u.name.trim(),description:u.description.trim()||void 0});if(t){console.error("Error creating room:",t),h.A.error("Failed to create room. Please try again.");return}e&&(h.A.success(`Room "${e.name}" created successfully!`),s(!1),j({name:"",description:""}),g({}),N.refresh())}catch(e){console.error("Error creating room:",e),h.A.error("Failed to create room. Please try again.")}finally{p(!1)}}},y=(e,s)=>{j(t=>({...t,[e]:s})),f[e]&&g(s=>({...s,[e]:""}))};return(0,r.jsxs)(l.Vq,{open:e,onOpenChange:s,children:[r.jsx(l.hg,{asChild:!0,children:(0,r.jsxs)(i.z,{children:[r.jsx(d,{className:"mr-2 h-4 w-4"}),"Create Room"]})}),(0,r.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(l.fK,{children:[r.jsx(l.$N,{children:"Create New Room"}),r.jsx(l.Be,{children:"Create a new video conference room. You can invite team members after creating it."})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(c._,{htmlFor:"room-name",children:"Room Name"}),r.jsx(o.I,{id:"room-name",placeholder:"e.g., Team Daily Standup",value:u.name,onChange:e=>y("name",e.target.value),className:f.name?"border-red-500":"",disabled:t}),f.name&&r.jsx("p",{className:"text-sm text-red-500",children:f.name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(c._,{htmlFor:"room-description",children:"Description (Optional)"}),r.jsx(o.I,{id:"room-description",placeholder:"Brief description of the room's purpose",value:u.description,onChange:e=>y("description",e.target.value),className:f.description?"border-red-500":"",disabled:t}),f.description&&r.jsx("p",{className:"text-sm text-red-500",children:f.description}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[u.description.length,"/500 characters"]})]}),(0,r.jsxs)(l.cN,{children:[r.jsx(i.z,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:t,children:"Cancel"}),r.jsx(i.z,{type:"submit",disabled:t,children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Room"})]})]})]})]})}},5703:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(870),a=t(2048),n=t(2216),i=t(2137),l=t(5498),o=t(309);function c(){return r.jsx("div",{className:"text-center py-12",children:r.jsx(a.Zb,{className:"max-w-md mx-auto",children:(0,r.jsxs)(a.aY,{className:"pt-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"rounded-full bg-muted p-3",children:r.jsx(n.Z,{className:"h-8 w-8 text-muted-foreground"})})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No rooms yet"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Get started by creating your first video conference room. Invite your team and start collaborating instantly."}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[r.jsx(i.Z,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Invite team members"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[r.jsx(l.Z,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Schedule meetings"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[r.jsx(n.Z,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{children:"Start instant calls"})]})]}),r.jsx(o.default,{})]})})})}},7960:(e,s,t)=>{"use strict";t.d(s,{default:()=>C});var r=t(870),a=t(8250),n=t(2400),i=t(2048),l=t(2378),o=t(6848),c=t(2269),d=t(4942),m=t(3178),x=t(2216),h=t(9602),p=t(8917);let u=(0,p.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=t(9034),f=t(2137),g=t(5498);let N=(0,p.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var v=t(8814),b=t(9971),y=t.n(b),w=t(769),k=t(2978);function C({room:e}){var s;let[t,p]=(0,a.useState)(!1),[b,C]=(0,a.useState)(!1),Z=(0,n.useRouter)(),R=()=>{k.A.info("Room joining functionality coming soon!")},_=async()=>{try{let s=`${window.location.origin}/rooms/${e.slug}`;await navigator.clipboard.writeText(s),k.A.success("Room link copied to clipboard!")}catch(e){k.A.error("Failed to copy link")}},P=async()=>{C(!0);try{let{error:s}=await w.G.deleteRoom(e.id);if(s){console.error("Error deleting room:",s),k.A.error("Failed to delete room. Please try again.");return}k.A.success(`Room "${e.name}" deleted successfully`),p(!1),Z.refresh()}catch(e){console.error("Error deleting room:",e),k.A.error("Failed to delete room. Please try again.")}finally{C(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zb,{className:"group hover:shadow-md transition-shadow",children:[r.jsx(i.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx(i.ll,{className:"text-lg truncate",children:e.name}),r.jsx(i.SZ,{className:"mt-1 line-clamp-2",children:e.description||"No description provided"})]}),(0,r.jsxs)(o.h_,{children:[r.jsx(o.$F,{asChild:!0,children:(0,r.jsxs)(l.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx(m.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Open menu"})]})}),(0,r.jsxs)(o.AW,{align:"end",children:[(0,r.jsxs)(o.Xi,{onClick:R,children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Join Room"]}),(0,r.jsxs)(o.Xi,{onClick:_,children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Copy Link"]}),r.jsx(o.Xi,{asChild:!0,children:(0,r.jsxs)(y(),{href:`/rooms/${e.slug}/settings`,children:[r.jsx(u,{className:"mr-2 h-4 w-4"}),"Settings"]})}),r.jsx(o.VD,{}),(0,r.jsxs)(o.Xi,{onClick:()=>p(!0),className:"text-red-600 focus:text-red-600",children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),(0,r.jsxs)(i.aY,{className:"pt-0",children:[r.jsx("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(f.Z,{className:"h-4 w-4"}),r.jsx("span",{children:0===(s=e.participant_count)?"No participants":1===s?"1 participant":`${s} participants`})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(g.Z,{className:"h-4 w-4"}),r.jsx("span",{children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(d.C,{variant:"secondary",className:"text-xs",children:e.slug}),r.jsx(d.C,{variant:"outline",className:"text-xs",children:"Active"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:R,className:"flex-1",size:"sm",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Join Room"]}),r.jsx(l.z,{variant:"outline",size:"sm",onClick:_,children:r.jsx(N,{className:"h-4 w-4"})})]})]})]}),r.jsx(c.aR,{open:t,onOpenChange:p,children:(0,r.jsxs)(c._T,{children:[(0,r.jsxs)(c.fY,{children:[r.jsx(c.f$,{children:"Delete Room"}),(0,r.jsxs)(c.yT,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone. All participants will be removed and any room data will be permanently lost.']})]}),(0,r.jsxs)(c.xo,{children:[r.jsx(c.le,{disabled:b,children:"Cancel"}),r.jsx(c.OL,{onClick:P,disabled:b,className:"bg-red-600 hover:bg-red-700",children:b?(0,r.jsxs)(r.Fragment,{children:[r.jsx(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Room"})]})]})})]})}},2048:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>o});var r=t(870),a=t(8250),n=t(4429);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));i.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},2216:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8917).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},4538:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(8031),a=t(2464),n=t(4190),i=t(1957),l=t(6949),o=t(148),c=t(7693);let d=o.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,c.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));d.displayName="Input";var m=t(9583);let x=(0,m.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var h=t(8103);let p=(0,m.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var u=t(7971);let j=(0,u.createProxy)(String.raw`/Users/simon/Desktop/video-conf-app/apps/web/components/rooms/create-room-dialog.tsx#default`),f=(0,u.createProxy)(String.raw`/Users/simon/Desktop/video-conf-app/apps/web/components/rooms/room-card.tsx#default`),g=(0,u.createProxy)(String.raw`/Users/simon/Desktop/video-conf-app/apps/web/components/rooms/empty-rooms-state.tsx#default`);async function N(){let e=(0,a.e)(),{data:{user:s}}=await e.auth.getUser();s||(0,i.redirect)("/auth/login");let{data:t,error:o}=await e.from("rooms").select(`
      *,
      room_participants(count)
    `).eq("owner_id",s.id).order("created_at",{ascending:!1}),c=t?.map(e=>({...e,participant_count:e.room_participants?.[0]?.count||0}))||[];return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl font-semibold",children:"TeamMeet"})}),r.jsx(n.Z,{user:s})]})})}),(0,r.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",s.user_metadata.full_name||s.email?.split("@")[0],"!"]}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage your video conference rooms and start new meetings"})]}),r.jsx(j,{})]})}),c.length>0&&r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(x,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(d,{placeholder:"Search rooms...",className:"pl-8",id:"search-rooms"})]}),r.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:(0,r.jsxs)("span",{children:[c.length," room",1!==c.length?"s":""]})})]})}),c.length>0&&(0,r.jsxs)("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Total Rooms"}),r.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:c.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Your active conference rooms"})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Total Participants"}),r.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:c.reduce((e,s)=>e+s.participant_count,0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all your rooms"})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"This Week"}),r.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:c.filter(e=>new Date(e.created_at)>=new Date(Date.now()-6048e5)).length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Rooms created this week"})]})]})]}),c.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Your Rooms"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Sorted by most recent"})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:c.map(e=>r.jsx(f,{room:e},e.id))})]}):r.jsx(g,{})]})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[974,645,918,35,2,49],()=>t(8931));module.exports=r})();